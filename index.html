<!DOCTYPE html>
<html>
<head>
    <title>Minha Lista de Jogos</title>
    <style>
        .game-list {
            list-style: none;
            display: flex;
            flex-direction: column;
        }

        .game-list li {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .status-checkbox {
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <h1>Minha Lista de Jogos</h1>

    <textarea id="jogosTextarea" placeholder="Cole uma lista de jogos aqui, um por linha"></textarea>
    <br>
    <button onclick="adicionarJogos()">Adicionar Jogos</button>

    <ul class="game-list" id="listaJogos">
        <!-- Seus jogos aparecerão aqui -->
    </ul>

    <script>
        // Substitua com seu ID de Gist e token de autorização
        const gistId = 'af076af2ddbe2b96d26433fafeac0b6c';
        const token = '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';

        function salvarNoGist() {
            const apiUrl = `https://api.github.com/gists/${gistId}`;
            const listaJogosElement = document.getElementById("listaJogos");
            const listaJogos = [];

            listaJogosElement.querySelectorAll("li").forEach((jogoElement) => {
                const nomeJogo = jogoElement.textContent.trim();
                listaJogos.push(nomeJogo);
            });

            const dadosASalvar = {
                files: {
                    'seu-arquivo.txt': {
                        content: listaJogos.join("\n")
                    }
                }
            };

            fetch(apiUrl, {
                method: 'PATCH',
                headers: {
                    'Authorization': `token ${token}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(dadosASalvar)
            })
            .then(response => {
                if (response.status === 200) {
                    console.log('Alterações salvas com sucesso!');
                } else {
                    console.error('Falha ao salvar as alterações.');
                }
            })
            .catch(error => {
                console.error('Erro ao salvar as alterações:', error);
            });
        }

        function adicionarJogos() {
            var jogosTextarea = document.getElementById("jogosTextarea");
            var listaJogos = jogosTextarea.value.trim().split('\n');

            for (var i = 0; i < listaJogos.length; i++) {
                var nomeJogo = listaJogos[i].trim();

                if (nomeJogo) {
                    var listaJogosElement = document.getElementById("listaJogos");
                    var novoJogo = document.createElement("li");
                    novoJogo.innerHTML = `
                        <label class="status-checkbox">
                            <input type="checkbox" name="jogado" value="JOGADO">
                        </label>
                        <label class="status-checkbox">
                            <input type="checkbox" name="zerado" value="ZERADO">
                        </label>
                        ${nomeJogo}
                    `;
                    listaJogosElement.appendChild(novoJogo);
                }
            }

            jogosTextarea.value = "";

            // Após adicionar ou marcar jogos, salve automaticamente no Gist
            salvarNoGist();
        }
    </script>
</body>
</html>
